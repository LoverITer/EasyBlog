#### 配置串口服务器      

 一般串口服务器都有配套的配置软件和串口调试工具，配套的配置软件都有搜索功能，串口服务器连上电脑后就能在配置软件上搜到。从上图可知，在整个数据传输网络中，最终上位机接收的数据是串口服务器发送过来的。**在数据传输的C/S结构中，串口服务器充当的是Client，上位机服务器软件充当的是Server**。因此按照串口服务器的配置手册，我们**将串口服务器配置成了TCP Client模式。作为Client模式，要为串口服务器配置目标IP地址，也就是服务器电脑的IP地址192.168.0.201，这样串口服务器才能将数据发送到服务器上**。还有就是**串口服务器的波特率要和前端设备保持一致**，不然收不到数据。相连的串口服务器设置了2400 Baud。配置串口服务器的时候，只需要将串口服务器通过网线连到服务器电脑，给串口服务器供电，按照产品说明说中相应模式的配置方法配置即可。综上，串口服务器Client模式的需要配置的参数为目标IP、目标端口、本模块IP、本模块端口（默认即可，可不设置）、波特率。其中本模块IP要和目标IP在同一网段，且多个串口服务器的本模块IP不重复。如下：

![](C:\Users\Administrator\Pictures\QQ浏览器截图\QQ截图20200303092621.png)

​                                                                               图1 查看终端设备的波特率  

![](C:\Users\Administrator\Pictures\QQ浏览器截图\QQ截图20200303093048.png)

​                                                                                      图 2 设置串口服务器参数



#### 配置虚拟串口

​        但是测试的设备是需要发指令到前端设备的，只有往前端设备发送数据，前端设备才会返回数据，所以上图我们看不到数据返回。我们使用了虚拟串口服务器助手，说明书上说虚拟串口服务器助手的使用，不需要修改串口服务器设置和服务器软件设置等，安装设置好相应端口就可以，类似于前端设备直接接到电脑上了。

​        也就是说，串口服务器一来数据，这边的虚拟串口就能接收到，我们在电脑端就可以对虚拟串口进行操作了；我们通过给这个串口发数据，前端设备也能收到数据了。就类似于直接远程对前端设备的串口进行操作。只不过现在传输距离大大增加了，因为通过局域网连接。虚拟串口使用的模式如下：

![](https://img-blog.csdn.net/20180417215311840)

​                                                                                     图 3 VCOM示意图   

​        在服务器电脑上安装虚拟串口软件，有的是直接打开，无需安装。有人公司的虚拟串口软件需要安装，在软件中就可以搜索到局域网中的串口服务器。这次使用的串口服务器，配套的虚拟串口软件需要手动添加虚拟串口。这里添加了1个COM，模式为**TCP Server模式**，因为它们用于接收数据。设置1个虚拟串口对应的端口号为所要对应的串口服务器设置的目标端口号，即默认的8234。

<center><img src="C:\Users\Administrator\Pictures\QQ浏览器截图\QQ截图20200303101219.png" style="zoom:67%;align:center" /><br/>图4 配置为虚拟端口</center>



![](C:\Users\Administrator\Pictures\QQ浏览器截图\QQ截图20200303111310.png)

​                                                                        图5 虚拟端口配置完成

![](C:\Users\Administrator\Pictures\QQ浏览器截图\QQ截图20200303111404.png)

​                                                                            图6 测试串口连接成功





60E2420CA3D51

