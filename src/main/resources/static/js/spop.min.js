/*!
 * smallPop 0.1.2 | https://github.com/silvio-r/spop
 * Copyright (c) 2015 SÃ­lvio Rosa @silvior_
 * MIT license
 */
;(function(){var i=390;var m,c,a,j,g,d,f,l;var b=function(o,n){this.defaults={template:null,style:"info",autoclose:false,position:"top-right",icon:true,group:false,onOpen:false,onClose:false};c=h(this.defaults,spop.defaults);if(typeof o==="string"||typeof n==="string"){m={template:o,style:n||c.style}}else{if(typeof o==="object"){m=o}else{console.error("Invalid arguments.");return false}}this.opt=h(c,m);if(e("spop--"+this.opt.group)){this.remove(e("spop--"+this.opt.group))}this.open()};b.prototype.create=function(n){a=e(this.getPosition("spop--",this.opt.position));j=(!this.opt.icon)?"":'<i class="spop-icon '+this.getStyle("spop-icon--",this.opt.style)+'"></i>';g='<div class="spop-close" data-spop="close" aria-label="Close">&times;</div>'+j+'<div class="spop-body">'+n+"</div>";if(!a){this.popContainer=document.createElement("div");this.popContainer.setAttribute("class","spop-container "+this.getPosition("spop--",this.opt.position));this.popContainer.setAttribute("id",this.getPosition("spop--",this.opt.position));document.body.appendChild(this.popContainer);a=e(this.getPosition("spop--",this.opt.position))}this.pop=document.createElement("div");this.pop.setAttribute("class","spop spop--out spop--in "+this.getStyle("spop--",this.opt.style));if(this.opt.group&&typeof this.opt.group==="string"){this.pop.setAttribute("id","spop--"+this.opt.group)}this.pop.setAttribute("role","alert");this.pop.innerHTML=g;a.appendChild(this.pop)};b.prototype.getStyle=function(o,n){d={success:"success",error:"error",warning:"warning"};return o+(d[n]||"info")};b.prototype.getPosition=function(o,n){f={"top-left":"top-left","top-center":"top-center","top-right":"top-right","bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right"};return o+(f[n]||"top-right")};b.prototype.open=function(){this.create(this.opt.template);if(this.opt.onOpen){this.opt.onOpen()}this.close()};b.prototype.close=function(){if(this.opt.autoclose&&typeof this.opt.autoclose==="number"){this.autocloseTimer=setTimeout(this.remove.bind(this,this.pop),this.opt.autoclose)}this.pop.addEventListener("click",this.addListeners.bind(this),false)};b.prototype.addListeners=function(n){l=n.target.getAttribute("data-spop");if(l==="close"){if(this.autocloseTimer){clearTimeout(this.autocloseTimer)}this.remove(this.pop)}};b.prototype.remove=function(n){if(this.opt.onClose){this.opt.onClose()}k(n,"spop--in");setTimeout(function(){if(document.body.contains(n)){n.parentNode.removeChild(n)}},i)};function e(o,n){return typeof o==="string"?(n||document).getElementById(o):o||null}function k(o,n){if(o.classList){o.classList.remove(n)}else{o.className=o.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")}}function h(o,p){for(var n in p){if(p.hasOwnProperty(n)){o[n]=p[n]}}return o}window.spop=function(o,n){if(!o||!window.addEventListener){return false}return new b(o,n)};spop.defaults={}}());