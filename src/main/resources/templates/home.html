<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>个人空间 - EasyBlog博客</title>
    <link rel="shortcut icon" th:href="@{/static/favicon.ico}"/>
    <link rel="bookmark" th:href="@{/static/favicon.ico}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" href="../static/css/me.css" th:href="@{/static/css/me.css}">
    <script src="../static/js/spop.js" th:src="@{/static/js/spop.js}"></script>
    <link rel="stylesheet" href="../static/css/spop.css" th:href="@{/static/css/spop.css}">
    <!--加载动画和确认框特效-->
    <link rel="stylesheet" href="../static/css/loading/zeroModal.css" th:href="@{/static/css/loading/zeroModal.css}">
</head>
<body>

<!--导航-->
<div th:replace="~{nav :: navbar}"></div>
<!--中间内容-->
<div class="m-container m-padded-tb-big">
    <div class="ui  stackable grid">
        <div class="twelve wide column" style="padding-top: 0 !important;">
            <div class="ui stackable grid segment m-margin-top m-margin-bottom">
                <div class="three wide column" style="max-width: 130px !important;padding-right: 0 !important;">
                    <!--
                       user是文章的作者
                       visitor是访问者
                    -->
                    <img th:src="${user.getUserHeaderImgUrl()}" src="https://img-blog.csdnimg.cn/20190927151132530.png"
                         class="ui fluid top aligned  medium circular image image-100x100" alt="">
                </div>
                <div class="thirteen wide column" style="padding-left: 0 !important;">
                    <div class="row">
                        <span style="font-size: 26px"><strong>LoveITer</strong></span>
                        <button id="secret-btn" class="ui right floated  small yellow basic button">
                            <a href="#" style="color: inherit;font-size: 12px;">私信</a>
                        </button>
                        <button id="care-btn" class="ui right floated  small red basic button">
                            <a href="#" style="color: inherit;font-size: 12px;">关注</a>
                        </button>
                    </div>

                    <div class="row m-margin-top-large">
                        <span>关注数：<span style="color: dodgerblue !important;"><em>0</em></span></span>

                        <span class="m-margin-left">访问量：<span style="color: dodgerblue !important;"><em
                                th:text="${user.getUserVisit()}">22255</em></span></span>
                    </div>
                </div>
            </div>
            <!--content header-->
            <div class="ui top attached segment">
                <div class="ui middle aligned two column grid">
                    <div class="column">
                        <h3 class="ui header m-inline-block m-black"
                            style="letter-spacing: 2px !important;;color: #ca0c16 !important;">TA的博文</h3>
                    </div>
                    <div class="right aligned column">
                        共 <h2 class="ui header m-inline-block m-text-thin" style="color: #ca0c16 !important;">
                        <em th:text="${articleSize}">14</em></h2> 篇
                    </div>
                </div>
            </div>
            <!--content-->
            <div class="ui attached segment border-bt-none">
                <div th:each="article:${articles}"
                     class="ui padded vertical segment m-padded-tb-large m-mobile-lr-clear border-bt-none"
                     style="padding-bottom: 20px !important;padding-top: 10px !important;">
                    <div class="ui mobile reversed stackable grid">
                        <div class="eleven wide column">
                            <button th:switch="${article.getArticleType()}"
                                    class="ui mini red basic button  m-inline-block ">
                                <span th:case="0">原创</span>
                                <span th:case="1">转载</span>
                                <span th:case="2">翻译</span>
                            </button>
                            <a href="#" th:href="@{/article/details/{id}(id=${article.getArticleId()})}"
                               th:text="${article.getArticleTopic()}"
                               class="ui header m-inline-block m-margin-top-small m-margin-bottom-small">你真的理解什么是财富自由吗？</a>
                            <p class="m-text"
                               style="color: #0a001f;font-size: 1.111rem !important;line-height: 22px;"
                               th:text="${#strings.abbreviate(article.getArticleContent(),100)}">
                                正确做好任何一件事情的前提是清晰、正确的理解目标。而事实是，我们很多人很多时候根本没有对目标正确的定义，甚至根本从来就没有想过，只是大家都那么做而已…...
                            </p>
                            <div class="ui stackable grid">
                                <div class="eleven wide column">
                                    <div class="ui mini horizontal link list">
                                        <div class="item">
                                            <img th:src="${user.getUserHeaderImgUrl()}"
                                                 src="https://unsplash.it/100/100?image=1005" alt=""
                                                 class="ui avatar image">
                                            <div class="content"><a href="#" class="header" th:text="${user.getUserNickname()}">黄鑫</a></div>
                                        </div>
                                        <div class="item">
                                            <i class="calendar icon"></i>[[${#dates.format(article.getArticlePublishTime(),'yyyy年MM月dd
                                            hh:mm:ss')}]]
                                        </div>
                                        <div class="item">
                                            <i class="eye icon"></i>[[${article.getArticleClick()}]]
                                        </div>
                                        <div class="item">
                                            <i class="comment alternate icon"></i>[[${article.getArticleCommentNum()}]]
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="five wide column">
                            <a target="_blank">
                                <img src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture"
                                     alt="" class="ui rounded image">
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!--查看更多-->
            <div th:if="${articleSize>15}" class="ui attached segment bottom " style="border-top: none !important;">
                <a href="#" th:href="@{/article/index/{uid}(uid=${user.getUserId()})}">
                    <button id="more-btn" class="ui negative basic button" style="margin-left: 40% !important;">查看更多
                    </button>
                </a>
            </div>

            <div th:if="${articleSize<=15&&articleSize!=0}" class="ui attached segment bottom "
                 style="border-top: none !important;">
            </div>

            <div th:if="${#lists.isEmpty(articles)}" class="ui bottom attached segment"
                 style="border-top: none !important;">
                <div class="ui middle aligned two column grid">
                    <div style="color: grey;margin: 10em auto !important;float: left !important;font-size: 16px">
                        没有任何文章
                    </div>
                </div>
            </div>
        </div>
        <!--关于我面板-->
        <div class="four wide column m-mobile-hide">
            <div class="ui attached segment">
                <div class="ui header about">关于我<a th:if="${visitorId!=null and visitorId==user.getUserId()}" id="about"
                                                   href="#"
                                                   style="float: right;margin: 0 auto;font-size: 14px;font-weight: 400;display: none">修改</a>
                </div>
                <p id="about-show" class="m-text" th:if="${!#strings.isEmpty(user.getUserDescription())}"
                   th:text="${user.getUserDescription()}">黄鑫，一个独立开发者，折腾在 0 和 1 世界的大叔；一个终身学习者，誓将学习无限循环.
                    希望结识可以共同成长的小伙伴.</p>
                <p id="about-show" class="m-text" th:if="${#strings.isEmpty(user.getUserDescription())}">
                    这人很懒，什么也没留下~~</p>
            </div>
            <div class="ui attached segment">
                <div class="ui header hobby">
                    我的爱好
                    <a th:if="${visitorId!=null and visitorId==user.getUserId()}" id="hobby" href="#"
                       style="float: right;margin: 0 auto;font-size: 14px;font-weight: 400;display: none">修改</a>
                </div>
                <div style="margin-bottom: 8px !important;" th:if="${userHobby!=null}" th:each="hobby:${userHobby}" class="ui orange basic left pointing label" th:text="${hobby}">
                    编程
                </div>
                <p  class="m-text" th:if="${userHobby==null}">
                    这人很懒，什么也没留下~~</p>
            </div>
            <div class="ui attached segment">
                <div class="ui header tech">
                    我的技术栈
                    <a th:if="${visitorId!=null and visitorId==user.getUserId()}" id="thchnology" href="#"
                       style="float: right;margin: 0 auto;font-size: 14px;font-weight: 400;display: none">修改</a>
                </div>
                <div th:if="${userTech!=null}" th:each="tech:${userTech}"
                     class="ui teal basic left pointing label m-margin-tb-tiny" th:text="${tech}">Java
                </div>
                <p  class="m-text" th:if="${userTech==null}">
                    这人很懒，什么也没留下~~</p>
            </div>
            <div class="ui bottom attached segment">
                <div class="ui header contact">
                    联系我<a th:if="${visitorId!=null and visitorId==user.getUserId()}" id="contact-me" href="#"
                          style="float: right;margin: 0 auto;font-size: 14px;font-weight: 400;display: none">修改</a>
                </div>
                <a href="#"
                   th:if="${authorAccounts!=null and authorAccounts.getWechat()!=null and !#strings.isEmpty(authorAccounts.getWechat())}"
                   class="ui wechat circular icon button" th:data-content="${authorAccounts.getWechat()}"
                   data-position="bottom center"><i class="weixin icon green"></i></a>
                <a href="#"
                   th:if="${authorAccounts!=null and authorAccounts.getQq()!=null and !#strings.isEmpty(authorAccounts.getQq())}"
                   class="ui qq circular icon button" th:data-content="${authorAccounts.getQq()}"
                   data-position="bottom center"><i class="qq icon black"></i></a>
                <a href="#" target="_blank"
                   th:if="${authorAccounts!=null and authorAccounts.getGithub()!=null and !#strings.isEmpty(authorAccounts.getGithub())}"
                   class="ui github circular icon button" th:data-content="${authorAccounts.getGithub()}"
                   th:href="@{${authorAccounts.getGithub()}}" data-position="bottom center"><i class="github icon"></i></a>
                <a href="#"
                   th:if="${authorAccounts!=null and authorAccounts.getWeibo()!=null and !#strings.isEmpty(authorAccounts.getWeibo())}"
                   class="ui weibo circular icon button" th:data-content="${authorAccounts.getWeibo()}"
                   data-position="bottom center"><i class="weibo red icon"></i></a>
                <a href="#"
                   th:if="${authorAccounts!=null and authorAccounts.getSteam()!=null and !#strings.isEmpty(authorAccounts.getSteam())}"
                   style="background-color: rgb(19,83,131) !important;" class="ui steam circular icon button"
                   th:data-content="${authorAccounts.getSteam()}" data-position="bottom center"><i class="steam  icon"
                                                                                                   style="color: floralwhite !important;"></i></a>
                <a href="#"
                   th:if="${authorAccounts!=null and authorAccounts.getTwitter()!=null and !#strings.isEmpty(authorAccounts.getTwitter())}"
                   class="u i twitter circular icon button" th:data-content="${authorAccounts.getTwitter()}"
                   data-position="bottom center"><i class="twitter blue icon"></i></a>
                <p th:if="${authorAccounts==null ||
                ((authorAccounts.getWechat()==null||#strings.isEmpty(authorAccounts.getWechat())) &&
                (authorAccounts.getQq()==null||#strings.isEmpty(authorAccounts.getQq())) &&
                (authorAccounts.getWeibo()==null||#strings.isEmpty(authorAccounts.getWeibo())) &&
                (authorAccounts.getSteam()==null||#strings.isEmpty(authorAccounts.getSteam())) &&
                (authorAccounts.getTwitter()==null||#strings.isEmpty(authorAccounts.getTwitter())) &&
                (authorAccounts.getGithub()==null||#strings.isEmpty(authorAccounts.getGithub())))}">这人很懒，什么也没留下~~</p>
            </div>

            <div class="ui wechat-qr flowing popup transition hidden" style="padding: 0 0 !important;">
                <img src="../static/images/wechat.jpg"
                     th:src="@{${#strings.substring(authorAccounts.getWechat(),#strings.indexOf(authorAccounts.getWechat(),'=')+1,#strings.length(authorAccounts.getWechat()))}}"
                     alt=""
                     class="ui rounded image" style="width: 110px">
            </div>
        </div>
    </div>
</div>

<!--关于我修改-->
<div class="ui  modal scrolling transition hidden about">
    <i class="close icon"
       style="position: absolute !important;top: -0.1rem !important;right: -0.1rem;!important;color: black !important;"></i>
    <div class="header">
        关于我
    </div>
    <div class="content">
        <div class="ui form">
            <div class="field">
                <label>向大家介绍一下自己吧！</label>
                <textarea id="about-me" th:text="${user.getUserDescription()}"></textarea>
            </div>
        </div>
    </div>
    <div class="actions">
        <div id="about-cancel" class="ui button close">取消</div>
        <div id="about-commit" class="ui green button">保存</div>
    </div>
</div>

<!--我的爱好修改-->
<div class="ui modal scrolling transition hidden hobby">
    <i class="close icon"
       style="position: absolute !important;top: -0.1rem !important;right: -0.1rem;!important;color: black !important;"></i>
    <div class="header">
        我的爱好
    </div>
    <div class="content">
        <div class="ui form">
            <div class="field">
                <div class="ui large label" th:if="${userHobby!=null}" th:each="hobby:${userHobby}"
                     th:text="${hobby}"></div>
                <span id="hobby-add" style="color: #00c4ff;cursor: pointer"><i class="plus circle icon" style="color: #00c4ff !important;"></i>添加</span>
                <div class="ui input hobby-input" style="width: unset !important;display: none">
                    <input type="text" placeholder="多个“爱好”以逗号隔开">
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <div id="hobby-cancel" class="ui button close">取消</div>
        <div id="hobby-commit" class="ui green button">保存</div>
    </div>
</div>


<!--我的技术栈修改-->
<div class="ui large modal scrolling transition hidden tech">
    <i class="close icon"
       style="position: absolute !important;top: -0.1rem !important;right: -0.1rem;!important;color: black !important;"></i>
    <div class="header">
        我的技术栈
    </div>
    <div class="content">
        <div class="ui form">
            <div class="field">
                <div class="ui relaxed divided list">
                    <div class="item">
                        <div class="content">
                            <span class="header" style="display: inline-block !important;">后端</span>
                            <div style="display: inline-block !important;" class="description">共16个</div>
                            <i class="chevron grey right icon" style="position: absolute;top:5px;right:5px"></i>
                            <i class="chevron grey down icon"></i>
                        </div>
                        <div class="ui horizontal list">
                            <div class="item">
                                <div class="content">
                                    <div class="header">Tom</div>
                                    Top Contributor
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <div class="header">Christian Rocha</div>
                                    Admin
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <div class="header">Matt</div>
                                    Top Rated User
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="item">
                        <div class="content">
                            <span class="header">前端</span>
                            <div class="description">共16个</div>
                            <i class="chevron right icon"></i>
                            <i class="chevron down icon"></i>
                        </div>
                        <div class="ui horizontal list">
                            <div class="item">
                                <div class="content">
                                    <div class="header">Tom</div>
                                    Top Contributor
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <div class="header">Christian Rocha</div>
                                    Admin
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <div class="header">Matt</div>
                                    Top Rated User
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="item">
                        <div class="content">
                            <span class="header">算法</span>
                            <div class="description">共16个</div>
                            <i class="chevron right icon"></i>
                            <i class="chevron down icon"></i>
                        </div>
                        <div class="ui horizontal list">
                            <div class="item">
                                <div class="content">
                                    <div class="header">Tom</div>
                                    Top Contributor
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <div class="header">Christian Rocha</div>
                                    Admin
                                </div>
                            </div>
                            <div class="item">
                                <div class="content">
                                    <div class="header">Matt</div>
                                    Top Rated User
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <div id="tech-cancel" class="ui button close">取消</div>
        <div id="tech-commit" class="ui green button">保存</div>
    </div>
</div>

<!--我的联系方式修改-->
<div class="ui coupled modal transition hidden contact">
    <i class="close icon"
       style="position: absolute !important;top: -0.1rem !important;right: -0.1rem;!important;color: black !important;"></i>
    <div class="header">
        联系我
    </div>
    <div class="content">
        <div class="ui form" style="font-size: 1.1rem">
            <div class="field">
                <!--有值显示-->
                <div th:if="${authorAccounts!=null && authorAccounts.getGithub()!=null && !#strings.isEmpty(authorAccounts.getGithub())}"
                     th:value="${authorAccounts.getGithub()}"><i class="github icon"></i>GitHub
                </div>
                <input id="github" class="ui input" type="text" placeholder="GitHub账号"
                       th:if="${authorAccounts!=null && authorAccounts.getGithub()!=null && !#strings.isEmpty(authorAccounts.getGithub())}"
                       th:value="${authorAccounts.getGithub()}">
                <div th:if="${authorAccounts!=null && authorAccounts.getWechat()!=null && !#strings.isEmpty(authorAccounts.getWechat())}"
                     th:value="${authorAccounts.getWechat()}"><i class="wechat icon"></i>微信
                </div>
                <div th:if="${authorAccounts!=null && authorAccounts.getWechat()!=null && !#strings.isEmpty(authorAccounts.getWechat())}"
                     class="ui  left icon input">
                    <input id="wechat" style="padding-left: 14px !important;"
                           th:value="${#strings.substring(authorAccounts.getWechat(),0,#strings.indexOf(authorAccounts.getWechat(),'='))}"
                           type="text" placeholder="微信账号">
                    <div class="ui button img-upload">上传微信二维码名片</div>
                </div>
                <br/>
                <div th:if="${authorAccounts!=null && authorAccounts.getQq()!=null && !#strings.isEmpty(authorAccounts.getQq())}"
                     th:value="${authorAccounts.getQq()}"><i class="qq icon"></i>QQ
                </div>
                <input id="qq" class="ui input" type="text" placeholder="QQ账号"
                       th:if="${authorAccounts!=null && authorAccounts.getQq()!=null && !#strings.isEmpty(authorAccounts.getQq())}"
                       th:value="${authorAccounts.getQq()}">
                <div th:if="${authorAccounts!=null && authorAccounts.getWeibo()!=null && !#strings.isEmpty(authorAccounts.getWeibo())}"
                     th:value="${authorAccounts.getWeibo()}"><i class="weibo icon"></i>微博
                </div>
                <input id="weibo" class="ui input" type="text" placeholder="微博账号"
                       th:if="${authorAccounts!=null && authorAccounts.getWeibo()!=null && !#strings.isEmpty(authorAccounts.getWeibo())}"
                       th:value="${authorAccounts.getWeibo()}">
                <div th:if="${authorAccounts!=null && authorAccounts.getSteam()!=null && !#strings.isEmpty(authorAccounts.getSteam())}"
                     th:value="${authorAccounts.getSteam()}"><i class="steam icon"></i>Steam
                </div>
                <input id="steam" class="ui input" type="text" placeholder="steam账号"
                       th:if="${authorAccounts!=null && authorAccounts.getSteam()!=null && !#strings.isEmpty(authorAccounts.getSteam())}"
                       th:value="${authorAccounts.getSteam()}">
                <div th:if="${authorAccounts!=null && authorAccounts.getTwitter()!=null && !#strings.isEmpty(authorAccounts.getTwitter())}"
                     th:value="${authorAccounts.getTwitter()}"><i class="twitter icon"></i>twitter
                </div>
                <input id="twitter" class="ui input" type="text" placeholder="twitter账号"
                       th:if="${authorAccounts!=null && authorAccounts.getTwitter()!=null && !#strings.isEmpty(authorAccounts.getTwitter())}"
                       th:value="${authorAccounts.getTwitter()}">

                <!--没值显示-->
                <div th:if="${authorAccounts==null || authorAccounts.getGithub()==null ||#strings.isEmpty(authorAccounts.getGithub())}">
                    <i class="github icon"></i>GitHub
                </div>
                <input id="github" class="ui input" type="text" placeholder="GitHub账号"
                       th:if="${authorAccounts==null || authorAccounts.getGithub()==null ||#strings.isEmpty(authorAccounts.getGithub())}">
                <div th:if="${authorAccounts==null || authorAccounts.getWechat()==null || #strings.isEmpty(authorAccounts.getWechat())}"
                     th:value="${authorAccounts.getWechat()}"><i class="wechat icon"></i>微信
                </div>
                <div th:if="${authorAccounts==null || authorAccounts.getWechat()==null || #strings.isEmpty(authorAccounts.getWechat())}"
                     class="ui  left icon input">
                    <input id="wechat" style="padding-left: 14px !important;" type="text" placeholder="微信账号">
                    <div class="ui button img-upload">上传微信二维码名片</div>
                </div>
                <div th:if="${authorAccounts==null || authorAccounts.getQq()==null ||#strings.isEmpty(authorAccounts.getQq())}">
                    <i class="qq icon"></i>QQ
                </div>
                <input id="qq" class="ui input" type="text" placeholder="QQ账号"
                       th:if="${authorAccounts==null || authorAccounts.getQq()==null ||#strings.isEmpty(authorAccounts.getQq())}">
                <div th:if="${authorAccounts==null || authorAccounts.getWeibo()==null ||#strings.isEmpty(authorAccounts.getWeibo())}">
                    <i class="weibo icon"></i>微博
                </div>
                <input id="weibo" class="ui input" type="text" placeholder="微博账号"
                       th:if="${authorAccounts==null || authorAccounts.getWeibo()==null ||#strings.isEmpty(authorAccounts.getWeibo())}">
                <div th:if="${authorAccounts==null || authorAccounts.getSteam()==null ||#strings.isEmpty(authorAccounts.getSteam())}">
                    <i class="steam icon"></i>Steam
                </div>
                <input id="steam" class="ui input" type="text" placeholder="steam账号"
                       th:if="${authorAccounts==null || authorAccounts.getSteam()==null ||#strings.isEmpty(authorAccounts.getSteam())}">
                <div th:if="${authorAccounts==null || authorAccounts.getTwitter()==null ||#strings.isEmpty(authorAccounts.getTwitter())}">
                    <i class="twitter icon"></i>twitter
                </div>
                <input id="twitter" class="ui input" type="text" placeholder="twitter账号"
                       th:if="${authorAccounts==null || authorAccounts.getTwitter()==null ||#strings.isEmpty(authorAccounts.getTwitter())}">
            </div>
        </div>
    </div>
    <div class="actions">
        <div id="contact-cancel" class="ui button close">取消</div>
        <div id="contact-commit" class="ui green button">保存</div>
    </div>
</div>
<div class="ui small second coupled modal transition hidden">
    <div class="header">
        上传二维码图片
    </div>
    <div class="content">
        <div class="ui from">
            <input id="input_file" name="categoryImg"
                   style="position:absolute;opacity:0;height: 35px !important;width: 171px !important;padding: 0 !important;cursor: pointer;"
                   onchange="show(this)" accept="image/*" type="file"/>
            <button class="ui button" style="cursor: pointer;"><i class="upload icon"></i>选择要上传的文件</button>
            <div style="margin-top: 10px; ">
                <img id="pre-look" src="../static/images/wechat.jpg" th:src="@{/static/images/wechat.jpg}"
                     style="width: 400px;height: 400px;margin-left: 150px">
            </div>
        </div>
    </div>
    <div class="actions">
        <div class="ui  button weixin-upload-image-cancel">取消</div>
        <div class="ui green button weixin-upload-image-ok">
            <i class="checkmark  icon"></i>
            上传
        </div>
    </div>
</div>


<div style="height: 25px"></div>
<!--底部footer-->
<div th:replace="~{footer :: footbar}"></div>

</body>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js"></script>
<script src="../static/js/me.js" th:src="@{/static/js/me.js}"></script>
<script src="../static/js/loading/mustache.js" th:src="@{/static/js/loading/mustache.js}"></script>
<script src="../static/js/loading/zeroModal.js" th:src="@{/static/js/loading/zeroModal.js}"></script>
<script>
    $(document).ready(function () {
        if (detectZoom() != 125) {
            showInfoMessage("您当前的页面处于缩放，页面可能会错乱，建议缩放比例100%")
        }
        //控制“修改按钮的显示和隐藏”
        showModifyButton(".ui.header.about");
        showModifyButton(".ui.header.hobby");
        showModifyButton(".ui.header.tech");
        showModifyButton(".ui.header.contact");
        let contact_edit_success = localStorage.getItem("contact_edit_success");
        if (contact_edit_success) {
            showSuccessMessage("修改成功！");
            localStorage.removeItem("contact_edit_success");
        }
    });


</script>

<script th:online="javascript" type="text/javascript">
    /***修改关于我的信息弹窗控制***/
    $('#about').click(function () {
        $('.modal.about').modal({
            closable: false
        });
        $('.modal.about').modal('show');
    });
    $('#about-cancel').click(function () {
        $('.modal.about').modal('toggle');
    });
    $('#about-commit').click(function () {
        let about_me_info = $('#about-me').val();
        $.ajax({
            url: "/user/aboutMe",
            method: "GET",
            sync: false,
            data: {aboutMeInfo: about_me_info},
            dataType: "json",
            success: function (response) {
                if (response.success) {
                    $('#about-show').text(about_me_info);
                    $('#about-me').val(about_me_info);
                    $('.modal.about').modal('hide');
                    showSuccessMessage(response.message);
                }
            },
            error: function () {
                $('.modal.about').modal('toggle');
                showErrorMessage("服务异常，请重试！");
            }
        });
    });

    /***修改我的爱好弹窗控制***/
    $('#hobby').click(function () {
        $('.modal.hobby').modal({
            closable: false
        });
        $('.modal.hobby').modal('show');
    });
    $('#hobby-cancel').click(function () {
        $('.modal.hobby').modal('hide');
    });
    $('#hobby-add').click(function () {
        $('#hobby-add').hide();
        $('.hobby-input').show();
    });
    $('.hobby-input').find('input').blur(function () {
        $('#hobby-add').show();
        $('.hobby-input').hide();
    });
    $('#hobby-commit').click(function () {
        let inputHobby = $('.hobby-input').find('input').val() == null ? "" : $('.hobby-input').find('input').val();
        console.log(inputHobby);
        let hobby = "[[${user.getUserHobby()}]]";
        if (hobby != null) {
            hobby=hobby.toString().concat("," + inputHobby);
        }else{
            hobby=inputHobby;
        }
        console.log(hobby);
        if (inputHobby != null && hobby != null) {
            _loading(2);
            $.ajax({
                url: "/user/settingHobby",
                method: "GET",
                sync: false,
                data: {hobby: hobby},
                dataType: "JSON",
                success: function (response) {
                    _loadingClose();
                    if (response.success) {
                        showSuccessMessage("修改成功！");
                        $('.modal.hobby').modal('hide');
                    } else {
                        showErrorMessage(response.message);
                    }
                },
                error: function () {
                    _loadingClose();
                    showErrorMessage("服务异常，请稍后重试！")
                }
            })
        }
    });

    /***修改我的技术栈弹窗控制***/
    $('#thchnology').click(function () {
        $('.modal.tech').modal({
            closable: false
        });
        $('.modal.tech').modal('show');
    });
    $('#tech-cancel').click(function () {
        $('.modal.tech').modal('toggle');
    });
    $('#tech-commit').click(function () {

    });

    /***修改我的联系方式弹窗控制***/
    $('#contact-me').click(function () {
        $('.contact.modal').modal({
            allowMultiple: true,
            closable: false
        });
        $('.contact.modal')
            .modal('show')
        ;
    });

    $('.img-upload').click(function () {
        $('.second.modal').modal({
            closable: false
        });
        $('.second.modal').modal("show");
    });

    $('#contact-cancel').click(function () {
        $('.modal.contact').modal('hide');
    });

    //微信二维码上传框的取消/上传按钮按下后
    $('.weixin-upload-image-cancel.button').click(function () {
        $('.second.modal').modal("hide");
        //延时
        for (let i = 0; i < 800; i++) {
        }
        $('.contact.modal').modal('show');
    });

    //上传微信二维码，返回二维码的URL
    $('.weixin-upload-image-ok.button').click(function () {
        //获取图片的串
        let imgByte64Str = $('#pre-look')[0].src;
        if (imgByte64Str != null && imgByte64Str != "" && imgByte64Str.toString().startsWith("data:image/jpeg;base64")) {
            _loading(2);
            $.ajax({
                url: "/upload/interface4",
                method: "POST",
                sync: false,
                data: {imgByte64Str: imgByte64Str},
                dataType: "json",
                success: function (response) {
                    if (response.success) {
                        _loadingClose();
                        //服务器返回上传后图片的URL
                        let weixinImgUrl = response.message;
                        localStorage.setItem("weixinImgUrl", weixinImgUrl);
                        console.log(weixinImgUrl);
                        $('.second.modal').modal("hide");
                        //延时
                        for (let i = 0; i < 800; i++) {
                        }
                        $('.contact.modal').modal('show');
                        showSuccessMessage("二维码上传成功！")
                    } else {
                        showErrorMessage("服务异常，请稍后重试！")
                    }
                },
                error: function () {
                    _loadingClose();
                    showErrorMessage("服务异常，请稍后重试！")
                }
            })
        } else {
            showWarningMessage("请选择二维码图片");
        }
    });


    $('#contact-commit').click(function () {
        let github = $('#github').val() == null ? "" : $('#github').val();
        let wechat = $('#wechat').val() == null ? "" : $('#wechat').val();
        let wechatQRImageUrl = localStorage.getItem("weixinImgUrl");
        if (wechatQRImageUrl != null && wechatQRImageUrl.length > 0) {
            //微信账号和微信二维码的分隔是“:”
            wechat = wechat.concat("=" + wechatQRImageUrl);
        }
        let qq = $('#qq').val() == null ? "" : $('#qq').val();
        let steam = $('#steam').val() == null ? "" : $('#steam').val();
        let twitter = $('#twitter').val() == null ? "" : $('#twitter').val();
        let weibo = $('#weibo').val() == null ? "" : $('#weibo').val();
        if (github != "" || wechat != "" || qq != "" || steam != "" || twitter != "" || weibo != "") {
            //内容不能全为空就提交
            _loading(2);
            $.ajax({
                url: "/user/settingContact",
                method: "Get",
                sync: false,
                data: {github: github, wechat: wechat, qq: qq, steam: steam, twitter: twitter, weibo: weibo},
                dataType: "json",     //服务器返回的数据类型
                success: function (response) {
                    $('.large.modal.contact').modal('hide');
                    if (response.success) {
                        localStorage.setItem("contact_edit_success", true);
                        //刷新页面
                        window.location.reload();
                    } else {
                        showInfoMessage(response.message);
                    }
                },
                error: function () {
                    _loadingClose();
                    $('.large.modal.contact').modal('hide');
                    showErrorMessage("服务异常，请重试！");
                }
            });
        } else {
            $('.large.modal.contact').modal('hide');
            showInfoMessage("没有任何内容可以提交！");
        }
    });

    //从本地选择图片后，页面显示
    function show(obj) {
        let rd = new FileReader(); //创建文件读取对象
        let files = obj.files[0];  //获取file组件中的文件
        rd.readAsDataURL(files);   //文件读取装换为base64类型
        rd.onloadend = function (e) {
            //加载完毕之后获取结果赋值给img
            $('#pre-look').height(400);
            $('#pre-look').width(400);
            document.getElementById("pre-look").src = this.result;
        };

    }
</script>
<script type="text/javascript">

    $(document).ready(function () {
        toggleStatus();
    });

    function toggleStatus() {
        var user = sessionStorage.getItem("user");
        if (user != null) {
            $('#header-images').show();
            $('#login-btn').hide();
        } else {
            $('#header-images').hide();
            $('#login-btn').show();
        }
    }

    <!--退出操作异步请求-->
    $('#logout').click(function () {
        $.ajax({
            url: "/user/logout",
            method: "GET",
            sync: true,
            data: {userId: $('#userId').val()},
            dataType: "json",
            success: function (response) {
                if (response.success) {
                    sessionStorage.removeItem("user");
                    $("#login-btn").show();
                    $('#header-images').hide();
                }
            },
            error: function () {
                showErrorMessage("服务异常，请重试！")
            }
        });
    });

</script>
<!--弹框-->
<script type="text/javascript">
    $('.menu.toggle').click(function () {
        $('.m-item').toggleClass('m-mobile-hide');
    });
    $('.ui.dropdown').dropdown({
        on: 'hover'
    });
    $('.wechat').popup({
        popup: $('.wechat-qr'),
        position: 'bottom center'
    });

    $('.qq').popup();
    $('.github').popup();
    $('.weibo').popup();
    $('.twitter').popup();
    $('.steam').popup();
</script>
<script type="text/javascript">
    //私信按钮颜色的交互变化
    $('#secret-btn').mouseenter(function () {
        $('#secret-btn').removeClass("basic")
    });
    $('#secret-btn').mouseleave(function () {
        $('#secret-btn').addClass("basic")
    });
    //关注按钮颜色的交互变化
    $('#care-btn').mouseenter(function () {
        $('#care-btn').removeClass("basic")
    });
    $('#care-btn').mouseleave(function () {
        $('#care-btn').addClass("basic")
    });
    //更多按钮颜色的交互变化
    $('#more-btn').mouseenter(function () {
        $('#more-btn').css("color", "#ffffff");
        $('#more-btn').removeClass("basic")
    });
    $('#more-btn').mouseleave(function () {
        $('#more-btn').css("color", "inherit");
        $('#more-btn').addClass("basic")
    });
</script>

</html>